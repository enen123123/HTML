<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script>
			
			// 用户名
			function yonghu(){
				var yh=document.getElementById('yh').value;
				var span_yh=document.getElementById('span_yh');
				// 汉字正则表达式
				var reg=/^[\u4e00-\u9fa5]{2,5}$/
				if(yh==null||yh==''){
					span_yh.innerText='null';
					span_yh.style.color='red';
					return false;
				}
				else if(reg.test(yh)){
					span_yh.innerText='√';
					span_yh.style.color='green';
					return true;
					
				}
				else{
					span_yh.innerText='×';
					span_yh.style.color='red';
					return false;
				}
			}
			// 密码
			function mima(){
				var mm=document.getElementById('mm').value;
				var span_mm=document.getElementById('span_mm');
				// 汉字正则表达式
				var reg=/^[a-zA-Z]\w{5,14}$/
				if(mm==null||mm==''){
					span_mm.innerText='null';
					span_mm.style.color='red';
					return false;
				}
				else if(reg.test(mm)){
					span_mm.innerText='√';
					span_mm.style.color='green';
					return true;
					
				}
				else{
					span_mm.innerText='×';
					span_mm.style.color='red';
					return false;
				}
			}
			// 手机号
			function shouji(){
				
				// 汉字正则表达式
				var reg=/^\d{3,11}$/
				return public('sj',reg);
				
			}
			// 邮箱
			function youxiang(){
				
				// 汉字正则表达式
				var reg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
				return public('yx',reg);
			}
			// 公共
			function public(id,reg){
				var id1=document.getElementById(id);
				var val=id1.value;
				// var alt=id1.alt;
				var span=document.getElementById('span_'+id);
				// 汉字正则表达式
				// var reg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/
				if(val==null||val==''){
					span.innerText='null';
					span.style.color='red';
					return false;
				}
				else if(reg.test(val)){
					span.innerText='√';
					span.style.color='green';
					return true;
				}
				else{
					span.innerText='×';
					span.style.color='red';
					return false;
				}
			}
			// 性别
			function sexcheck(){
				var sex=document.getElementsByName('sex');
				var span=document.getElementById('span_sex')
				for(var i in sex){
					if(sex[i].checked){
						span.innerText='√';
						span.style.color='green';
						return true; //跳出循环，
					}
				}	
				span.innerText='×';
				span.style.color='red';
				return false;//准备最后总体校验
			
			}
			// 爱好
			function hobbycheck(){
				var hobby=document.getElementsByName('hobby');
				var span=document.getElementById('span_hobby')
				for(var i in hobby){
					if(hobby[i].checked){
						span.innerText='√';
						span.style.color='green';
						return true; //跳出循环，
					}
				}
				span.innerText='×';
				span.style.color='red';
				return false;//准备最后总体校验
				
			}
			// 籍贯
			function jiguan(){
				var jg=document.getElementById('jg').value;
				var span=document.getElementById('span_jg');
				if(jg=='0'){
					span.innerText='×';
					span.style.color='red';	
					return false;	
				}
				else{
					span.innerHTML='√';
					span.style.color='green';
					return true;
				}
			}
			// 验证码
			function yanzheng(){
				var ran=Math.floor(Math.random()*9000+1000);
				var span=document.getElementById('yan_s');
				span.innerText=ran;
			}
			// 验证码
			function yanzhengma(){
				var yzm=document.getElementById('yzm').value;
				var span_1=document.getElementById('yan_s').innerText;
				var span=document.getElementById('span_yzm');
				if(yzm!=span_1){
					span.innerText='×';
					span.style.color='red';	
					return false;
				}
				else{
					span.innerHTML='√';
					span.style.color='green';
					return true;
				}
			}
			// 同意协议
			function chick(){
				var chi=document.getElementById('chi');
				var zc=document.getElementById('zc');
				if(chi.checked){
					zc.disabled=false;
					return true;
				}
				else{
					zc.disabled=true;
					return false;
				}
				
			}
			function click_all(){
				var flag=yonghu()&&mima()&&shouji()&&youxiang()&&sexcheck()&&hobbycheck()&&jiguan()&&yanzhengma();
				return flag;
			}
		</script>
		<!-- 
			正则表达式：
			开始符号：^
			结束符号：$
			任意：*
			{2,}:至少两位，最多不限
			[0-9]	[a-z]
			\d:[0-9]
			\w:[0-9] [a-z] [A-Z]
			
		 -->
	</head>
	<body id="body1" onload="yanzheng()" onsubmit="return click_all()">
		<center>
			<h3>注册页面</h3>
		<hr>
		<form action="#" >
			<table>
				
				<tr>
					<td>用户名：</td>
					<td >
						<input type="text"  id="yh" onblur="yonghu()">
						<span id="span_yh">用户名应该为2~5位汉字</span>
					</td>
				</tr>
				<tr>
					<td>密码：</td>
					<td>
						<input type="password" id="mm" onblur="mima()" >
						<span id="span_mm">密码长度6-18位，只能包含字母、数字和下划线</span>
					</td>
				</tr>
				<tr>
					<td>手机号：</td>
					<td>
						<input type="text" id="sj" onblur="shouji()">
						<span id="span_sj">手机号位3-11位数字</span>
						</td>
				</tr>
				<tr>
					<td>邮箱：</td>
					<td>
						<input type="email" id="yx" onblur="youxiang()">
						<span id="span_yx">邮箱@</span>
					</td>
				</tr>
				<tr>
					<td>性别：</td>
					<td>
						🚹<input type="radio" name="sex" onclick="sexcheck()">
						🚺<input type="radio" name="sex" onclick="sexcheck()">
						<span id="span_sex"></span>
					</td>
				</tr>
				<tr>
					<td>爱好：</td>
					<td >
						<input type="checkbox" name="hobby" onclick="hobbycheck()">唱歌
						<input type="checkbox" name="hobby" onclick="hobbycheck()">跳舞<br>
						<input type="checkbox" name="hobby" onclick="hobbycheck()">课设
						<input type="checkbox" name="hobby" onclick="hobbycheck()">高数<br>
						<input type="checkbox" name="hobby" onclick="hobbycheck()">打篮球
						<span id="span_hobby"></span>
					</td>
				</tr>
				<tr>
					<td>籍贯：</td>
					<td>
						<select id="jg" onchange="jiguan()">
							<option value="0">-请选择-</option>
							<option value="1">汉族</option>
							<option value="2">壮族</option>
							<option value="3">回族</option>
							<option value="4">苗族</option>
							<option value="5">土家族</option>
							<option value="6">傣族</option>
							
						</select>
						<span id="span_jg"></span>
					</td>
				</tr>
				<tr>
					<td>验证码：</td>
					<td >
						<input type="text" id="yzm" onblur="yanzhengma()">
						<span id="yan_s"></span>
						<span id="span_yzm"></span>
					</td>
				</tr>
				<tr>
					<td>个人介绍：</td>
					<td>
						<textarea name="" id="" cols="20" rows="7" ></textarea>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>
						<input type="checkbox" id="chi" onclick="chick()">是否同意本公司协议
					</td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit" id="zc" value="注册" disabled='true'</td>
				</tr>
			</table>
		</center>
		
			
		</form>
		
	</body>
</html>